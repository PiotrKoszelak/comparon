{"code":"!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,\"a\",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p=\"{% static 'dist/' %}\",o(o.s=3)}({3:function(e,t){$(\".userOptionsOnOff\").click(function(){\"none\"==$(\".userOptions\").css(\"display\")?$(\".userOptions\").css(\"display\",\"block\"):$(\".userOptions\").css(\"display\",\"none\")}),$(\"#logOutButton\").click(function(){window.open(\"/main\",\"_self\")}),$(\"#backButton\").click(function(){window.open(\"/account\",\"_self\")});var o=L.map(\"map\").setView([52.237049,19.017532]);o.setZoom(6),L.tileLayer(\"http://{s}.tile.osm.org/{z}/{x}/{y}.png\",{attribution:'&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'}).addTo(o);var n,r,a,i,u={fillColor:\"#394d00\",color:\"#394d00\",weight:1.5,fillOpacity:.05},c={color:\"#0099ff\",weight:3},p=\"http://localhost:8080/geoserver/mopty/ows\",l=!1;!function e(t){var s;$(\"#loading\").css(\"display\",\"block\");var f={service:\"WFS\",version:\"1.0.0\",request:\"GetFeature\",typeName:\"mopty:\"+t,outputFormat:\"text/javascript\",format_options:\"callback: getJson\"},d=L.Util.extend(f);function g(e,t){t.on({mouseover:y,mouseout:v,click:m})}function y(e){e.target.setStyle({fillColor:\"#ffcc00\",color:\"#ffcc00\",fillOpacity:.1}),L.Browser.ie||L.Browser.opera||L.Browser.edge||e.target.bringToFront(),\"province\"==t?e.target.bindPopup(e.target.feature.properties.provincename):e.target.bindPopup(e.target.feature.properties.name)}function v(e){s.resetStyle(e.target)}function m(e){\"province\"==t?(o.flyTo([e.target.getBounds().getCenter().lat,e.target.getBounds().getCenter().lng],8),$(\"#wojInput\").val(e.target.feature.properties.provincename),n=e.target.feature.properties.provincename,l=!1):(o.flyTo([e.target.getBounds().getCenter().lat,e.target.getBounds().getCenter().lng],9),$(\"#powInput\").val(e.target.feature.properties.name),a=e.target.feature.properties.name,r=e.target.feature.properties.code,i&&o.removeLayer(i),i=L.geoJson(e.target.feature,{style:c}).addTo(o))}$.ajax({url:p+L.Util.getParamString(d),dataType:\"jsonp\",jsonpCallback:\"getJson\",success:function(e){if(s=L.geoJson(e,{style:u,onEachFeature:g}).addTo(o),$(\"#loading\").css(\"display\",\"none\"),\"province\"==t){var n=\"<option value='default' disabled selected hidden>Select province</option>\";s.eachLayer(function(e){var t=e.feature.properties.provincename,o=\"<option value='\"+t+\"'>\"+t+\"</option>\";n+=o}),$(\"#wojInput\").html(n)}else{var r=\"<option value='default' disabled selected hidden>Select county</option>\";s.eachLayer(function(e){var t=e.feature.properties.name,o=\"<option value='\"+t+\"'>\"+t+\"</option>\";r+=o}),$(\"#powInput\").html(r)}}}),$(\"#wojInput\").on(\"change\",function(){n=this.value,s.eachLayer(function(e){e.feature.properties.provincename==n&&(o.flyTo([e.getBounds().getCenter().lat,e.getBounds().getCenter().lng],8),n=e.feature.properties.provincename,l=!1)})}),$(\"#powInput\").on(\"change\",function(){var e=this.value;s.eachLayer(function(t){t.feature.properties.name==e&&(o.flyTo([t.getBounds().getCenter().lat,t.getBounds().getCenter().lng],9),a=t.feature.properties.name,r=t.feature.properties.code,i&&o.removeLayer(i),i=L.geoJson(t.feature,{style:c}).addTo(o))})}),o.on(\"zoomend\",function(){o.getZoom()<=7&&1==l&&(o.eachLayer(function(e){e instanceof L.TileLayer||(o.removeLayer(e),l=!1)}),e(\"province\"),!0,n=\"\"),o.getZoom()>7&&0==l&&(o.eachLayer(function(e){e instanceof L.TileLayer||(o.removeLayer(e),!1)}),e(n),l=!0)})}(\"province\"),$(\"#sendData\").click(function(){null==$(\"#wojInput\").val()||null==$(\"#powInput\").val()?$(\".comment\").css(\"visibility\",\"visible\"):$.ajax({type:\"POST\",data:{province:$(\"#wojInput\").val(),county:r,countyName:a}}).done(function(e){window.open(\"/analysis\",\"_self\")})})}});","extractedComments":[]}